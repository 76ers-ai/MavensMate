#!/usr/bin/env node
'use strict';

/**
 * @file Starts the MavensMate express server
 * @author Joseph Ferraro <@joeferraro>
 */

var parseArgs = require('minimist');
var server    = require('../app');

var args = parseArgs(process.argv);
var projectPath = args.project || process.cwd();
var verbose = args.verbose || false;
var port = args.port || process.env.MAVENSMATE_SERVER_PORT;

process.title = 'mavensmate server';

server.start({
  port: port,
  verbose: verbose
});
process.env.MAVENSMATE_SERVER_PORT = port;
console.log('MavensMate server running on port: '+port);